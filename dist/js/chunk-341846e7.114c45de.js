(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-341846e7"],{"5e7d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-body"},[r("div",{staticClass:"register-box"},[e._m(0),r("div",{staticClass:"register-section"},[r("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form,"validate-status":"validating"},on:{submit:e.handleSubmit}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,message:"手机号不能为空或手机号格式不对"}]}],expression:"[\n              'phone',\n              {\n                rules: [\n                  {\n                    required: true,\n                    pattern: /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/,\n                    message: '手机号不能为空或手机号格式不对',\n                  },\n                ],\n              },\n            ]"}],attrs:{placeholder:"注册时填写的手机号码"}})],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,pattern:/^(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{8,20}/,message:"密码不能为空密码格式首位必须是字母8到20位字母与数字"}]}],expression:"[\n              'password',\n              {\n                rules: [\n                  {\n                    required: true,\n                    pattern: /^(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{8,20}/,\n                    message:\n                      '密码不能为空密码格式首位必须是字母8到20位字母与数字',\n                  },\n                ],\n              },\n            ]"}],attrs:{type:"password",placeholder:"请输入新密码,首位必须是字母8到20位字母与数字"}})],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["passwor",{rules:[{required:!0,message:"密码不能为空"}]}],expression:"[\n              'passwor',\n              {\n                rules: [{ required: true, message: '密码不能为空' }],\n              },\n            ]"}],attrs:{type:"password",placeholder:"请再次输入密码"}})],1),r("a-form-item",[r("a-row",{attrs:{gutter:8}},[r("a-col",{attrs:{span:12}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["captcha",{rules:[{required:!0,message:"验证码不能为空"}]}],expression:"[\n                  'captcha',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: '验证码不能为空',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"请输入手机验证码"}})],1),r("a-col",{attrs:{span:12}},[r("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{click:e.getCode}},[e._v("获取验证码")]),r("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[e._v(e._s(e.count)+" 秒")])],1)],1)],1),r("a-form-item",[r("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v(" 确认修改 ")])],1)],1)],1)])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-header"},[r("h3",[e._v("忘记密码")])])}],s=(r("ac1f"),r("5319"),r("96cf"),r("1da1")),o={beforeCreate:function(){this.form=this.$form.createForm(this,{name:"normal_login"})},data:function(){return{show:!0,count:""}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r,a){var n,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.password==a.passwor){e.next=2;break}return e.abrupt("return",t.$message("两次密码不一样"));case 2:return n={code:a.captcha,newPwd:t.$md5(a.password),phone:a.phone},e.next=5,t.$http.forgo(n);case 5:s=e.sent,o=s.data,"0000"==o.code&&(t.$message.success("修改密码成功"),t.$router.replace("/"));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())},getCode:function(){var e=this;this.form.validateFields((function(t,r){var a={mobile:r.phone,receiverType:"mobile",templateId:2,scene:""};e.$http.send(a).then((function(t){if(console.log(t.data),"0000"==t.data.code){var r=60;e.timer||(e.count=r,e.show=!1,e.timer=setInterval((function(){e.count>0&&e.count<=r?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}}))}))},onclicklogin:function(){this.$router.push({path:"/"})}}},i=o,c=(r("b2e3"),r("2877")),u=Object(c["a"])(i,a,n,!1,null,"214808d0",null);t["default"]=u.exports},b2e3:function(e,t,r){"use strict";r("f807")},f807:function(e,t,r){}}]);
//# sourceMappingURL=chunk-341846e7.114c45de.js.map