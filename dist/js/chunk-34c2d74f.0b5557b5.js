(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34c2d74f"],{"0c99":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register-body"},[t("div",{staticClass:"register-box"},[t("div",{staticClass:"register-header"},[t("h3",[e._v("注册蓝天优购供货商（工厂)")]),t("button",{on:{click:e.onclicklogin}},[e._v("登录")])]),t("div",{staticClass:"register-section"},[t("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{rules:[{required:!0,pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,message:"手机号为空或手机号格式不对"}]}],expression:"[\n              'userName',\n              {\n                rules: [\n                  {\n                    required: true,\n                    pattern: /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/,\n                    message: '手机号为空或手机号格式不对',\n                  },\n                ],\n              },\n            ]"}],attrs:{placeholder:"请输入手机号"},on:{blur:e.shojihao}})],1),t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,pattern:/^(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{8,20}/,message:"密码不能为空密码格式首位必须是字母8到20位字母与数字"}]}],expression:"[\n              'password',\n              {\n                rules: [\n                  {\n                    required: true,\n                    pattern: /^(?=.*([a-zA-Z].*))(?=.*[0-9].*)[a-zA-Z0-9-*/+.~!@#$%^&*()]{8,20}/,\n                    message:\n                      '密码不能为空密码格式首位必须是字母8到20位字母与数字',\n                  },\n                ],\n              },\n            ]"}],attrs:{type:"password",placeholder:"请输入密码"}})],1),t("a-form-item",[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["passwor",{rules:[{required:!0,message:"确认密码不能为空"}]}],expression:"[\n              'passwor',\n              {\n                rules: [{ required: true, message: '确认密码不能为空' }],\n              },\n            ]"}],attrs:{type:"password",placeholder:"请确认密码"}})],1),t("a-form-item",[t("a-row",{attrs:{gutter:8}},[t("a-col",{attrs:{span:14}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["captcha",{rules:[{required:!0,message:"验证码不能为空"}]}],expression:"[\n                  'captcha',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: '验证码不能为空',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"请输入验证码"}})],1),t("a-col",{attrs:{span:10}},[t("a-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{click:e.getCode}},[e._v("获取验证码")]),t("a-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[e._v(e._s(e.count)+" 秒")])],1)],1)],1),t("a-form-item",[t("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["remember",{valuePropName:"checked",initialValue:!0}],expression:"[\n              'remember',\n              {\n                valuePropName: 'checked',\n                initialValue: true,\n              },\n            ]"}]},[e._v(" 我已经阅读并同意《用户协议》《隐私协议》 ")]),t("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit"}},[e._v(" 立即注册 ")])],1)],1)],1)])])},s=[],n=(t("96cf"),t("1da1")),o={beforeCreate:function(){this.form=this.$form.createForm(this,{name:"normal_login"})},data:function(){return{show:!0,count:"",timer:null}},methods:{getCode:function(){var e=this;this.form.validateFieldsAndScroll((function(r,t){var a={mobile:t.userName,receiverType:"mobile",templateId:2,scene:""};e.$http.send(a).then((function(r){if("0000"==r.data.code){var t=60;e.timer||(e.count=t,e.show=!1,e.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.show=!0,clearInterval(e.timer),e.timer=null)}),1e3))}}))}))},handleSubmit:function(e){var r=this;e.preventDefault(),this.form.validateFieldsAndScroll((function(e,t){if(t.password!=t.passwor)return r.$message("两次密码不一样");if(1!=t.remember)return r.$message("请先同意协议须知");var a={phone:t.userName,password:r.$md5(t.password),captcha:t.captcha};r.$http.reg(a).then((function(e){console.log(e.data),"0000"==e.data.code&&(r.$message({showClose:!0,message:"注册成功即将跳转登录页面",type:"success"}),r.$router.push({path:"/"}))}))}))},shojihao:function(){var e=this;this.form.validateFieldsAndScroll(function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(t,a){var s,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s={phone:a.userName},r.next=3,e.$http.isph(s);case 3:n=r.sent,o=n.data,"Y"==o.flag&&e.$message({showClose:!0,message:"手机号已注册可直接登录",type:"success"});case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())},onclicklogin:function(){this.$router.push({path:"/"})}}},i=o,c=(t("9c26"),t("2877")),u=Object(c["a"])(i,a,s,!1,null,"7b2d2139",null);r["default"]=u.exports},"9c26":function(e,r,t){"use strict";t("ab17")},ab17:function(e,r,t){}}]);
//# sourceMappingURL=chunk-34c2d74f.0b5557b5.js.map